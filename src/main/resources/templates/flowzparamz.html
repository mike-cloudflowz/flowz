<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">

    <title>CloudFlowz</title>

    <!--/*/ <th:block th:include="fragments/headerinc :: head"></th:block> /*/-->
    
    <script>
    $(function() {

    	  $('.selectpicker').on('change', function(){
    	    var selected = $(this).find("option:selected").val();
    	    var str = location.pathname.substr(location.pathname.lastIndexOf('/') + 1);
    	    var newPath = ((location.pathname).replace(new RegExp(str),''));
    	    window.location.href = location.protocol + '//' + location.host + newPath + selected;
    	  });
    	  
    	});
    </script>       
    
</head>
<body>
<div class="container">    
    <!--/*/ <th:block th:include="fragments/header :: header"></th:block> /*/-->
    <h2>My Flowz Stepz List</h2>
    <label>Select a Flow:</label> 
    <select id="currFlowz" name="currFlowz" class="selectpicker">
		<option th:each="flow : ${flowz}" 
			  th:value="${flow.id}" 			  
			  th:text="${flow.flowz_name}"
			  th:selected="${flow.id == currId}"/>
	</select>
		
    <div th:if="${not #lists.isEmpty(flowzParamz)}">        
        <table class="table table-striped">
            <tr>
                <th>Actionz Timestamp</th>
                <th>Actionz Name</th>
                <th>Subject Text</th>
                <th>Body Text</th>
                <th>View</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
            <tr th:each="flowParamz : ${flowzParamz}">
                <td th:text="${flowParamz.stepzTmstmp}">Actionz Timestamp</td>
                <td th:text="${flowParamz.actionz_name}">Actionz Name</td>
                <td th:text="${flowParamz.param2}">Subject Text</td>
                <td th:text="${flowParamz.param3}">Body Text</td>
                <td><a th:href="${'/flowzParamz/' + flowParamz.id}">View</a></td>
                <td><a th:href="${'/flowzParamz/edit/' + flowParamz.id}">Edit</a></td>
                <td><a th:href="${'/flowzParamz/delete/' + flowParamz.id}">Delete</a></td>
            </tr>
        </table>
    </div>
    
    <div th:if="${#lists.isEmpty(flowzParamz)}">
        <h3>My FlowzStepz List</h3>
        <table class="table table-striped">
            <tr>
                <th>You have no Flowz Stepz</th>
            </tr>
        </table>
    </div>    
    
    
</div>

</body>
</html>